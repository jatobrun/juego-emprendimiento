(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{79:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(29),o=n.n(c),i=(n(79),n(31)),s=n(14),l=n(43),u=n(20),j=n.n(u),d=n(26),b=n(10);var p=[500,500],h=[[8,7],[8,8]],f=[5,3],x=30,O={38:[0,-1],40:[0,1],37:[-1,0],39:[1,0]},m=n(125),y={usuario_id:0,nombre:"",apellido:"",correo:"",puntos:0,isLogin:!1,score:0},g=n(2),v=function(){var e=Object(s.f)(),t=Object(r.useRef)(),n=Object(r.useState)(h),a=Object(b.a)(n,2),c=a[0],o=a[1],i=Object(r.useState)(f),u=Object(b.a)(i,2),v=u[0],w=u[1],C=Object(r.useState)([0,-1]),k=Object(b.a)(C,2),S=k[0],P=k[1],L=Object(r.useState)(null),I=Object(b.a)(L,2),T=I[0],E=I[1],J=Object(r.useState)(!1),N=Object(b.a)(J,2),R=N[0],_=N[1],z=Object(r.useState)(0),D=Object(b.a)(z,2);D[0],D[1];!function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){return M()}),T);var A=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n,r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length-2,n={usuario_id:y.usuario_id,puntos:t},e.next=4,fetch("http://api.turisteando.xyz/game-over",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 4:return r=e.sent,e.next=7,r.json();case 7:a=e.sent,console.log(a),E(null),_(!0);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){return v.map((function(e,t){return Math.floor(Math.random()*(p[t]/x))}))},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;if(e[0]*x>=p[0]||e[0]<0||e[1]*x>=p[1]||e[1]<0)return!0;var n,r=Object(l.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(e[0]===a[0]&&e[1]===a[1])return!0}}catch(o){r.e(o)}finally{r.f()}return!1},M=function(){var e=JSON.parse(JSON.stringify(c)),t=[e[0][0]+S[0],e[0][1]+S[1]];e.unshift(t),B(t)&&A(),function(e){if(e[0][0]===v[0]&&e[0][1]===v[1]){for(var t=F();B(t,e);)t=F();return w(t),!0}return!1}(e)||e.pop(),o(e)};return Object(r.useEffect)((function(){var e=t.current.getContext("2d");e.setTransform(x,0,0,x,0,0),e.clearRect(0,0,window.innerWidth,window.innerHeight),e.fillStyle="pink",c.forEach((function(t){var n=Object(b.a)(t,2),r=n[0],a=n[1];return e.fillRect(r,a,1,1)})),e.fillStyle="lightblue",e.fillRect(v[0],v[1],1,1)}),[c,v,R]),Object(g.jsx)(g.Fragment,{children:y.isLogin?Object(g.jsxs)("div",{role:"button",tabIndex:"0",onKeyDown:function(e){return function(e){var t=e.keyCode;return t>=37&&t<=40&&P(O[t])}(e)},style:{display:"flex",justifyContent:"center",flexDirection:"column",justifyItems:"center",textAlign:"center"},children:[Object(g.jsxs)("div",{children:[R?Object(g.jsx)("div",{children:Object(g.jsx)("h3",{style:{color:"white"},children:"GAME OVER!"})}):Object(g.jsx)("div",{children:Object(g.jsx)("h3",{})}),Object(g.jsx)(m.a,{variant:"contained",color:"warning",onClick:function(){o(h),w(f),P([0,-1]),E(150),_(!1)},style:{marginBottom:"0.75rem"},children:"Empezar"})]}),Object(g.jsx)("div",{children:Object(g.jsx)("canvas",{style:{border:"5px solid black"},ref:t,width:"".concat(p[0],"px"),height:"".concat(p[1],"px")})})]}):Object(g.jsxs)("div",{role:"button",tabIndex:"0",style:{display:"flex",justifyContent:"center",flexDirection:"column",justifyItems:"center",textAlign:"center"},children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("h3",{}),Object(g.jsx)(m.a,{variant:"contained",color:"warning",onClick:function(){return e("/")},style:{marginBottom:"0.75rem"},children:"Login"})]}),Object(g.jsx)("div",{children:Object(g.jsx)("canvas",{style:{border:"5px solid black"},ref:t,width:"".concat(p[0],"px"),height:"".concat(p[1],"px")})})]})})},w=n(5),C=n(35),k=n(127),S=n(128),P=n(130),L=n(131),I=n(124),T=n(132);function E(){var e=Object(r.useState)({usuario:"","contrase\xf1a":""}),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),o=Object(b.a)(c,2),i=o[0],l=o[1],u=Object(s.f)(),p=function(e){a(Object(C.a)(Object(C.a)({},n),{},Object(w.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(d.a)(j.a.mark((function e(t){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),l(!0),e.next=4,fetch("http://api.turisteando.xyz/login",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 4:return r=e.sent,e.next=7,r.json();case 7:a=e.sent,console.log(a),l(!1),a.succes?(y.usuario_id=a.usuario.id,y.nombre=a.usuario.nombre,y.apellido=a.usuario.apellido,y.puntos=a.usuario.puntos,y.correo=a.usuario.correo,y.isLogin=!0,console.log(y),u("/jugar")):alert("Hubo un error al tratar de loguear");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)(k.a,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",children:Object(g.jsx)(k.a,{item:!0,xs:3,children:Object(g.jsxs)(S.a,{sx:{mt:5},style:{backgroundColor:"#1e272e",padding:"1rem"},children:[Object(g.jsx)(P.a,{variant:"5",textAlign:"center",color:"white",children:" LogIn "}),Object(g.jsx)(L.a,{children:Object(g.jsxs)("form",{onSubmit:h,children:[Object(g.jsx)(I.a,{variant:"filled",label:"Usuario",sx:{display:"block",margin:".5rem 0"},disabled:i,name:"usuario",onChange:p,inputProps:{style:{color:"white"}},InputLabelProps:{style:{color:"white"}}}),Object(g.jsx)(I.a,{variant:"filled",label:"Contrase\xf1a",sx:{display:"block",margin:".5rem 0"},disabled:i,type:"password",name:"contrase\xf1a",onChange:p,inputProps:{style:{color:"white"}},InputLabelProps:{style:{color:"white"}}}),Object(g.jsx)(m.a,{variant:"contained",color:"primary",type:"submit",disabled:!n.usuario||!n.contrase\u00f1a||i,children:i?Object(g.jsx)(T.a,{color:"inherit",size:24}):"Ingresar"})]})})]})})})}function J(){var e=Object(r.useState)({cedula:"",nombre:"",apellido:"",correo:"",telefono:"",usuario:"","contrase\xf1a":""}),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),o=Object(b.a)(c,2),i=o[0],l=o[1],u=Object(s.f)(),p=function(e){a(Object(C.a)(Object(C.a)({},n),{},Object(w.a)({},e.target.name,e.target.value)))},h=function(){var e=Object(d.a)(j.a.mark((function e(t){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),l(!0),e.next=4,fetch("http://api.turisteando.xyz/registro",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}});case 4:return r=e.sent,e.next=7,r.json();case 7:a=e.sent,console.log(a),l(!1),u("/");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)(k.a,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",children:Object(g.jsx)(k.a,{item:!0,xs:3,children:Object(g.jsxs)(S.a,{sx:{mt:5},style:{backgroundColor:"#1e272e",padding:"1rem"},children:[Object(g.jsx)(P.a,{variant:"5",textAlign:"center",color:"white",children:" Registro "}),Object(g.jsx)(L.a,{children:Object(g.jsxs)("form",{onSubmit:h,children:[Object(g.jsx)(I.a,{variant:"filled",label:"Cedula",sx:{display:"block",margin:".5rem 0"},disabled:i,name:"cedula",onChange:p,inputProps:{style:{color:"white"}},InputLabelProps:{style:{color:"white"}}}),Object(g.jsx)(I.a,{variant:"filled",label:"Nombre",sx:{display:"block",margin:".5rem 0"},disabled:i,name:"nombre",onChange:p,inputProps:{style:{color:"white"}},InputLabelProps:{style:{color:"white"}}}),Object(g.jsx)(I.a,{variant:"filled",label:"Apellido",sx:{display:"block",margin:".5rem 0"},disabled:i,name:"apellido",onChange:p,inputProps:{style:{color:"white"}},InputLabelProps:{style:{color:"white"}}}),Object(g.jsx)(I.a,{variant:"filled",label:"Correo",sx:{display:"block",margin:".5rem 0"},disabled:i,type:"email",name:"correo",onChange:p,inputProps:{style:{color:"white"}},InputLabelProps:{style:{color:"white"}}}),Object(g.jsx)(I.a,{variant:"filled",label:"Telefono",sx:{display:"block",margin:".5rem 0"},disabled:i,name:"telefono",onChange:p,inputProps:{style:{color:"white"}},InputLabelProps:{style:{color:"white"}}}),Object(g.jsx)(I.a,{variant:"filled",label:"Usuario",sx:{display:"block",margin:".5rem 0"},disabled:i,name:"usuario",onChange:p,inputProps:{style:{color:"white"}},InputLabelProps:{style:{color:"white"}}}),Object(g.jsx)(I.a,{variant:"filled",label:"Contrase\xf1a",sx:{display:"block",margin:".5rem 0"},disabled:i,type:"password",name:"contrase\xf1a",onChange:p,inputProps:{style:{color:"white"}},InputLabelProps:{style:{color:"white"}}}),Object(g.jsx)(m.a,{variant:"contained",color:"primary",type:"submit",disabled:!n.usuario||!n.contrase\u00f1a||!n.nombre||!n.apellido||!n.cedula||!n.correo||!n.telefono||i,children:i?Object(g.jsx)(T.a,{color:"inherit",size:24}):"Registrarse"})]})})]})})})}function N(){return Object(g.jsx)("div",{children:"Nav Bar"})}var R=n(135),_=n(133),z=n(134),D=n(136);function A(){var e=Object(s.f)();return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(_.a,{sx:{flexGrow:1},children:Object(g.jsx)(z.a,{position:"static",color:"transparent",children:Object(g.jsx)(R.a,{children:Object(g.jsxs)(D.a,{children:[Object(g.jsx)(P.a,{variant:"h6",sx:{flexGrow:1},children:Object(g.jsx)(i.b,{style:{textDecoration:"none",color:"#eee"},to:"/",children:"Turisteando"})}),y.isLogin?Object(g.jsxs)("div",{children:[Object(g.jsx)(m.a,{variant:"contained",onClick:function(){return e("/jugar")},children:"Jugar"}),Object(g.jsx)(m.a,{variant:"contained",onClick:function(){return e("/productos")},style:{marginLeft:"0.5rem"},children:"Productos"}),Object(g.jsx)(m.a,{variant:"contained",onClick:function(){return y.isLogin=!1,void e("/")},style:{marginLeft:"0.5rem"},children:"Salir"})]}):Object(g.jsxs)("div",{children:[Object(g.jsx)(m.a,{variant:"contained",onClick:function(){return e("/")},children:"Login"}),Object(g.jsx)(m.a,{variant:"contained",onClick:function(){return e("/registro")},style:{marginLeft:"0.5rem"},children:"Registro"})]})]})})})})})}function F(){var e=function(){var e=Object(d.a)(j.a.mark((function e(t,n){var r,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={producto_id:t,total_puntos:n,cantidad_total:1,usuario_id:y.usuario_id},console.log(r),e.next=4,fetch("http://api.turisteando.xyz/crear-canje",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"}});case 4:return a=e.sent,e.next=7,a.json();case 7:c=e.sent,console.log(c),alert("Tu codigo de canje es ".concat(c.token," pronto nos pondremos en contacto contigo"));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),t=Object(r.useState)([]),n=Object(b.a)(t,2),a=n[0],c=n[1],o=function(){var e=Object(d.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://api.turisteando.xyz/productos");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,console.log(n.premios),c(n.premios);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){o()}),[]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column",justifyItems:"center",textAlign:"center"},children:[Object(g.jsx)("div",{children:Object(g.jsx)("h1",{style:{color:"white"},children:"Lista de Productos"})}),Object(g.jsx)("div",{children:Object(g.jsxs)("h4",{style:{color:"white"},children:["Hola, ",y.nombre," tienes ",y.puntos," puntos para canjear"]})})]}),a.map((function(t){return Object(g.jsx)(S.a,{style:{marginBottom:".7rem",backgroundColor:"#1e272e"},children:Object(g.jsxs)(L.a,{style:{display:"flex",justifyContent:"space-between"},children:[Object(g.jsxs)("div",{style:{color:"white"},children:[Object(g.jsxs)(P.a,{children:["Nombre: ",t.nombre]}),Object(g.jsxs)(P.a,{children:["Puntos: ",t.puntos]}),Object(g.jsxs)(P.a,{children:["Stock: ",t.stock]})]}),Object(g.jsx)("div",{style:{},children:Object(g.jsx)(m.a,{variant:"contained",color:"warning",onClick:function(){return e(t.id,t.puntos)},children:"Canjear"})})]})})}))]})}function B(){return Object(g.jsxs)(i.a,{children:[Object(g.jsx)(A,{}),Object(g.jsx)(R.a,{children:Object(g.jsxs)(s.c,{children:[Object(g.jsx)(s.a,{path:"/",element:Object(g.jsx)(E,{})}),Object(g.jsx)(s.a,{path:"/registro",element:Object(g.jsx)(J,{})}),Object(g.jsx)(s.a,{path:"/productos",element:Object(g.jsx)(F,{})}),Object(g.jsx)(s.a,{path:"/token",element:Object(g.jsx)(N,{})}),Object(g.jsx)(s.a,{path:"/jugar",element:Object(g.jsx)(v,{})})]})})]})}var M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,137)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),c(e),o(e)}))};o.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(B,{})}),document.getElementById("root")),M()}},[[87,1,2]]]);
//# sourceMappingURL=main.3cd04096.chunk.js.map